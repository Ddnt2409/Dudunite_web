/* =========================
   AliSab – CSS consolidado
   ========================= */

/* ---------- Tema / cores ---------- */
:root {
  --ali-brown: #5C1D0E;
  --ali-brown-2: #8c3b1b;
  --ali-ink: #4b2a10;

  --ali-post-1: #fff3a5;
  --ali-post-2: #ffe77a;
  --ali-post-3: #ffd95f;
  --ali-post-border: #f3da7a;

  --ali-stamp: #b71c1c;
}

/* ---------- Fundo da página ---------- */
.alisab-container{
  position:relative;
  min-height:100vh;
  padding:12px 10px 68px; /* espaço p/ rodapé */
  color: var(--ali-ink);
}
.alisab-container::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-1;
  background:
    linear-gradient(180deg, rgba(255,245,230,.78), rgba(255,245,230,.78)),
    url("/Bg003.png") center/cover no-repeat;
  filter:saturate(105%);
}

/* ---------- Cabeçalho (padrão ERP/PCP) ---------- */
.alisab-header{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:12px;
}
.alisab-header h2{
  display:flex; gap:8px; align-items:center;
  font-weight:800; color:var(--ali-brown);
  font-size:1.05rem;
}
.btn-voltar{
  background:var(--ali-brown-2); color:#fff;
  padding:8px 14px; border-radius:10px; border:none;
  font-weight:700;
}

/* ---------- Grid de post-its (3 por linha) ---------- */
.postits-list{
  display:grid;
  grid-template-columns:repeat(3, minmax(0,1fr));
  gap:14px; align-items:start;
}

/* ---------- Post-it base (com dobra + pin) ---------- */
.postit{
  position:relative;
  background:linear-gradient(180deg, var(--ali-post-1) 0%, var(--ali-post-2) 12%, var(--ali-post-3) 100%);
  border-radius:14px 14px 12px 12px;
  padding:16px 14px 14px;
  box-shadow:0 10px 18px rgba(0,0,0,.18), inset 0 -10px 16px rgba(0,0,0,.08);
  cursor:pointer;
  transform:rotate(-1.5deg);
  transition:transform .18s ease, box-shadow .18s ease, filter .18s ease;
}
.postit.tilt-l{ transform:rotate(-1.6deg); }
.postit.tilt-r{ transform:rotate(1.2deg); }

/* orelha/dobra */
.postit::after{
  content:"";
  position:absolute; right:12px; top:12px;
  width:28px; height:28px;
  background:linear-gradient(135deg,#fff5b8 0%,#fff 70%);
  clip-path:polygon(0 0,100% 0,0 100%);
  box-shadow:-2px 2px 4px rgba(0,0,0,.15);
}

/* pin vermelho */
.pin{
  position:absolute; left:50%; top:-10px;
  width:18px; height:18px; background:#d32f2f; border-radius:50%;
  transform:translateX(-50%);
  box-shadow:0 2px 0 #7a1b1b, 0 6px 10px rgba(0,0,0,.25);
}
.pin::after{
  content:""; position:absolute; left:50%; top:16px;
  width:2px; height:14px; background:#d8d8d8;
  transform:translateX(-50%) rotate(6deg);
  box-shadow:0 1px 1px rgba(0,0,0,.3);
}

/* cabeçalho/títulos no post-it */
.postit-header .pdv{
  font-size:1.12rem; font-weight:800; color:var(--ali-ink); margin-bottom:6px;
}
.postit-header .resumo{
  font-size:.95rem; color:#6a4a20;
}

/* ---------- Carimbo "ALIMENTADO" ---------- */
.carimbo{
  position:absolute; right:-18px; top:18px;
  transform:rotate(-45deg);            /* 45° conforme pedido */
  color:var(--ali-stamp);
  border:3px solid var(--ali-stamp);
  padding:4px 12px;
  font-weight:900; letter-spacing:2px;
  background:rgba(255,255,255,.65);
  text-shadow:0 1px 0 #fff;
  box-shadow:0 6px 18px rgba(0,0,0,.15);
  border-radius:6px;
}

/* ---------- Estado expandido (modal central grande) ---------- */
.postit.ativo{
  position:fixed; top:50%; left:50%;
  transform:translate(-50%,-50%) scale(1.0); rotate:0deg;
  width:min(620px, 94vw);              /* maior no mobile */
  max-height:84vh;
  z-index:1000;
  box-shadow:0 28px 80px rgba(0,0,0,.35), inset 0 -10px 16px rgba(0,0,0,.08);
  cursor:default;
}
.postit.ativo .postit-body{
  margin-top:10px;
  max-height:calc(84vh - 96px);
  overflow:auto; padding-right:4px;
}

/* ---------- Blocos de produto na expansão ---------- */
.produto-bloco{
  background:#fff7c4; border:1px solid var(--ali-post-border);
  border-radius:12px; padding:12px; margin-bottom:12px;
  box-shadow:inset 0 -3px 6px rgba(0,0,0,.06);
}
.produto-titulo{
  display:flex; justify-content:space-between; align-items:center;
  font-weight:800; color:var(--ali-ink); margin-bottom:8px;
}

/* linha de adicionar sabor */
.linha-add{ display:flex; gap:10px; align-items:center; }
.linha-add select,
.linha-add .qtd{
  flex:1;
  height:54px;                         /* maior no celular */
  font-size:18px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid #d2b44b; background:#fff;
}
.linha-add .btn-add{
  white-space:nowrap;
  height:54px; padding:0 14px;
  border:none; border-radius:12px;
  background:var(--ali-brown-2); color:#fff;
  font-size:16px; font-weight:800;
}

/* lista das linhas já adicionadas */
.linhas-list{ list-style:none; margin:10px 0 0; padding:0; }
.linhas-list li{
  display:flex; justify-content:space-between; align-items:center;
  background:#fffde3; border:1px dashed #e0c86d; border-radius:10px;
  padding:8px 10px; margin-bottom:6px;
}
.btn-x{ border:none; background:transparent; font-size:20px; }

/* ações (salvar/cancelar) */
.acoes{ display:flex; gap:10px; margin-top:12px; }
.btn-salvar,.btn-cancelar{
  flex:1; height:52px; border:none; border-radius:12px; font-weight:800;
}
.btn-salvar{ background:var(--ali-brown-2); color:#fff; }
.btn-cancelar{ background:#eee; }

/* ---------- Rodapé ---------- */
.alisab-footer{
  position:fixed; left:0; right:0; bottom:0;
  padding:10px 12px;
  display:flex; justify-content:center;
  background:linear-gradient(180deg, rgba(255,245,230,.0), rgba(255,245,230,.8));
  backdrop-filter:blur(2px);
  z-index:10;
}
.alisab-footer .btn-voltar-foot{
  background:#6f6f6f; color:#fff; border:none; border-radius:10px;
  padding:10px 16px; font-weight:800;
}

/* ---------- Interações desktop ---------- */
@media (hover:hover){
  .postit:hover{ filter:brightness(1.02); box-shadow:0 14px 26px rgba(0,0,0,.22); }
}
